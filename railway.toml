# Railway.app Configuration for Backend
# This file configures the Node.js backend deployment on Railway

[build]
builder = "NIXPACKS"
buildCommand = "cd app && npm install && npm run build"

[deploy]
startCommand = "cd app && npm start"
healthcheckPath = "/api/pt-eqa/load"
healthcheckTimeout = 30
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3

[[services]]
name = "smartlab-backend"
source = "."

[services.env]
NODE_ENV = "production"
PORT = "3000"

# Optional: Database URL if needed in the future
# DATABASE_URL = "${{DATABASE_URL}}"

# CORS settings
CORS_ORIGIN = "*"

# File upload limits
MAX_FILE_SIZE = "50mb"
